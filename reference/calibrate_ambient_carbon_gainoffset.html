<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calibrate ambient carbon isotope data using gain-and-offset method — calibrate_ambient_carbon_gainoffset • NEONiso</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calibrate ambient carbon isotope data using gain-and-offset method — calibrate_ambient_carbon_gainoffset"><meta name="description" content="Function called by calibrate_carbon_bymonth() to apply
gain and offset parameters to the ambient datasets (000_0x0_09m and
000_0x0_30m). This function should generally not be used independently,
but should be used in coordination with
calibrate_carbon_bymonth()."><meta property="og:description" content="Function called by calibrate_carbon_bymonth() to apply
gain and offset parameters to the ambient datasets (000_0x0_09m and
000_0x0_30m). This function should generally not be used independently,
but should be used in coordination with
calibrate_carbon_bymonth()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NEONiso</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/example_workflow.html">Getting Started with NEONiso</a></li>
    <li><a class="dropdown-item" href="../articles/reference_corrections.html">Reference Corrections</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lanl/NEONiso/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calibrate ambient carbon isotope data using gain-and-offset method</h1>
      <small class="dont-index">Source: <a href="https://github.com/lanl/NEONiso/blob/main/R/calibrate_ambient_carbon_gainoffset.R" class="external-link"><code>R/calibrate_ambient_carbon_gainoffset.R</code></a></small>
      <div class="d-none name"><code>calibrate_ambient_carbon_gainoffset.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function called by <code>calibrate_carbon_bymonth()</code> to apply
gain and offset parameters to the ambient datasets (000_0x0_09m and
000_0x0_30m). This function should generally not be used independently,
but should be used in coordination with
<code>calibrate_carbon_bymonth()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calibrate_ambient_carbon_gainoffset</span><span class="op">(</span></span>
<span>  <span class="va">amb_data_list</span>,</span>
<span>  <span class="va">caldf</span>,</span>
<span>  <span class="va">site</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  force_to_end <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  force_to_beginning <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  gap_fill_parameters <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  r2_thres <span class="op">=</span> <span class="fl">0.9</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-amb-data-list">amb_data_list<a class="anchor" aria-label="anchor" href="#arg-amb-data-list"></a></dt>
<dd><p>List containing an ambient d13C dataset.
Will include all variables in 000_0x0_xxm. (character)</p></dd>


<dt id="arg-caldf">caldf<a class="anchor" aria-label="anchor" href="#arg-caldf"></a></dt>
<dd><p>Calibration data frame containing gain and offset values for
12C and 13C isotopologues.</p></dd>


<dt id="arg-site">site<a class="anchor" aria-label="anchor" href="#arg-site"></a></dt>
<dd><p>Four-letter NEON code corresponding to site being processed.</p></dd>


<dt id="arg-filter-data">filter_data<a class="anchor" aria-label="anchor" href="#arg-filter-data"></a></dt>
<dd><p>Apply median absolute deviation filter from Brock 86 to
remove impulse spikes?</p></dd>


<dt id="arg-force-to-end">force_to_end<a class="anchor" aria-label="anchor" href="#arg-force-to-end"></a></dt>
<dd><p>In given month, calibrate ambient data later than last
calibration, using the last calibration? (default true)</p></dd>


<dt id="arg-force-to-beginning">force_to_beginning<a class="anchor" aria-label="anchor" href="#arg-force-to-beginning"></a></dt>
<dd><p>In given month, calibrate ambient data before than
first calibration, using the firs t calibration? (default true)</p></dd>


<dt id="arg-gap-fill-parameters">gap_fill_parameters<a class="anchor" aria-label="anchor" href="#arg-gap-fill-parameters"></a></dt>
<dd><p>Should function attempt to 'gap-fill' across a
bad calibration by carrying the last known good calibration
forward? Implementation is fairly primitive currently, as
it only carries the last known good calibration that's
available forward rather than interpolating, etc. Default FALSE.</p></dd>


<dt id="arg-r-thres">r2_thres<a class="anchor" aria-label="anchor" href="#arg-r-thres"></a></dt>
<dd><p>Minimum r2 value for calibration to be considered "good" and
applied to ambient data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Depends on <code>write_to_file</code> argument.
If true, returns nothing to environment;
but returns calibrated ambient observations to the output file.
If false, returns modified version of amb_data_list that include
calibrated ambient data.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Rich Fiorella <a href="mailto:rfiorella@lanl.gov">rfiorella@lanl.gov</a></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rich Fiorella.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

